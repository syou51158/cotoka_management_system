# COTOKAサロン管理システム - ローカル環境セットアップ手順

## 前提条件
- XAMPP がインストールされていること
- プロジェクトが `C:\xampp\htdocs\cotoka_management_system\` に配置されていること

## セットアップ手順

### 1. XAMPPサービスの起動
1. XAMPPコントロールパネルを開く
2. **Apache** と **MySQL** を開始する
3. 両方のステータスが「Running」になることを確認

### 2. データベースの作成
1. ブラウザで `http://localhost/phpmyadmin` にアクセス
2. 左側の「新規作成」をクリック
3. データベース名を `cotoka_management` として作成
4. 文字コードは `utf8mb4_unicode_ci` を選択

### 3. テーブルの作成
以下のいずれかの方法でテーブルを作成：

**方法A: ブラウザ経由**
1. `http://localhost/cotoka_management_system/database/setup_db.php` にアクセス
2. セットアップが完了するのを待つ

**方法B: SQLファイル直接実行**
1. phpMyAdminで `cotoka_management` データベースを選択
2. 「インポート」タブをクリック
3. `database_schema.sql` ファイルをアップロードして実行

### 4. システムへのアクセス
1. ブラウザで `http://localhost/cotoka_management_system/` にアクセス
2. 自動的にログインページにリダイレクトされます

### 5. デフォルトログイン情報
セットアップ完了後、以下の情報でログインできます：
- **ユーザー名**: `demo_admin`
- **パスワード**: `admin123`
- **メールアドレス**: `demo@example.com`

## システム概要

### 主要機能
- **ダッシュボード**: 売上、予約、顧客数の統計表示
- **顧客管理**: 顧客情報の登録・編集・検索
- **予約管理**: 予約の作成・変更・キャンセル
- **スタッフ管理**: スタッフ情報とシフト管理
- **売上管理**: 売上データの入力と分析
- **レポート**: 各種統計レポートの生成

### 権限レベル
1. **admin**: システム全体管理者
2. **tenant_admin**: テナント管理者
3. **manager**: 店舗管理者
4. **staff**: 店舗スタッフ

### システム構造
```
テナント（会社）
├── サロン1（店舗1）
│   ├── ユーザー1（従業員1）
│   └── ユーザー2（従業員2）
└── サロン2（店舗2）
    ├── ユーザー3（従業員3）
    └── ユーザー4（従業員4）
```

## トラブルシューティング

### データベース接続エラーが発生する場合
1. XAMPPのMySQLサービスが起動しているか確認
2. `config/config.php` の設定を確認
3. データベース名 `cotoka_management` が作成されているか確認

### ページが表示されない場合
1. XAMPPのApacheサービスが起動しているか確認
2. ファイルパスが正しいか確認（`htdocs` フォルダ内に配置）
3. ブラウザのキャッシュをクリア

### ログインできない場合
1. データベースにユーザーデータが作成されているか確認
2. デフォルトログイン情報を使用
3. パスワードの大文字小文字を確認

## 次のステップ
システムが正常に動作したら：
1. 実際のサロン情報でテナント・サロンを作成
2. スタッフユーザーを追加
3. サービスメニューを設定
4. 顧客データの登録開始






